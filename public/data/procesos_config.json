{
  "templates": [
    {
      "nombre_producto": "Cacao",
      "descripcion": "Un viaje sensorial desde el corazón del bosque hasta tu paladar: el proceso de creación de nuestro chocolate.",
      "etapas": [
        {
          "id_etapa": 1,
          "nombre_etapa": "Cosecha",
          "descripcion": "Bajo la sombra de árboles, manos expertas eligen el fruto perfecto. Un corte preciso revela la pulpa blanca, brillante y dulce como perlas de la selva.",
          "orden": 1,
          "campos_json": {
            "entradas": [{"label": "Peso Mazorcas (kg)", "name": "pesoMazorcas", "type": "number"}],
            "salidas": [{"label": "Peso Granos en Baba (kg)", "name": "pesoGranosBaba", "type": "number"}],
            "variables": [
                {"label": "Finca", "name": "finca", "type": "selectFinca", "popup": true},
                {"label": "Fecha Cosecha", "name": "fecha", "type": "date", "popup": true},
                {"label": "Clasificación de Cacao", "name": "clasificacion", "type": "select", "options": ["Criollo", "Forastero", "Trinitario (Híbrido)"], "popup": true},
                {"label": "Grupo genético", "name": "variedad", "type": "text", "popup": true},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 2,
          "nombre_etapa": "Fermentación",
          "descripcion": "Aquí ocurre la magia. Los granos reposan durante días. Este paso crucial es pura alquimia: transforma los azúcares y despierta las complejas notas de sabor únicas de este cacao.",
          "orden": 2,
          "campos_json": {
            "entradas": [{"label": "Peso Granos en Baba (kg)", "name": "pesoEntrada", "type": "number"}],
            "salidas": [{"label": "Peso Granos Fermentado (kg)", "name": "pesoFermentado", "type": "number"}],
            "variables": [
                {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
                {"label": "Fecha Inicio", "name": "fecha", "type": "date", "popup": true},
                {"label": "Método de Fermentación", "name": "metodoFermentacion", "type": "select", "options": ["Cajón de madera", "Sacos de yute", "Montones"], "popup": true},
                {"label": "Duración (días)", "name": "duracionDias", "type": "number"},
                {"label": "Frecuencia de Volteos", "name": "frecuenciaVolteos", "type": "text", "description": "Ej: Cada 24 horas, 2 veces al día"},
                {"label": "Temperatura Máxima (°C)", "name": "temperaturaMaxima", "type": "number"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 3,
          "nombre_etapa": "Secado",
          "descripcion": "Una danza bajo el sol. Los granos se mueven con rastrillos de madera hasta que el viento se lleva la humedad y crujen como hojas secas.",
          "orden": 3,
          "campos_json": {
            "salidas": [{"label": "Peso Cacao Seco (kg)", "name": "pesoSeco", "type": "number"}],
            "variables": [
                {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
                {"label": "Fecha Inicio", "name": "fecha", "type": "date", "popup": true},
                {"label": "Tipo de Secado", "name": "tipoSecado", "type": "select", "options": ["Patios de cemento", "Camas, Paseras o Esterillas", "Marquesinas o Túneles de Secado", "Hornos y Secadores Mecánicos"], "popup": true},
                {"label": "Duración (días)", "name": "duracionDias", "type": "number"},
                {"label": "Humedad Final (%)", "name": "humedadFinal", "type": "number"},
                {"label": "Porcentaje granos fermentados (%)", "name": "granosFermentados", "type": "number"},
                {"label": "Porcentaje granos violetas (%)", "name": "granosVioletas", "type": "number"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "nombre_etapa": "Tostado",
          "descripcion": "El fuego es nuestro pincel: un tostado preciso despierta el alma del cacao. Aquí se revela el aroma profundo y se define la personalidad única de tu chocolate.",
          "orden": 4,
          "campos_json": {
            "salidas": [{"label": "Peso Cacao Tostado (kg)", "name": "pesoTostado", "type": "number"}],
            "variables": [
                {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
                {"label": "Fecha Tostado", "name": "fecha", "type": "date", "popup": true},
                {"label": "Tostador", "name": "tostador", "type": "text"},
                {"label": "Tamaño de grano", "name": "tamanoGrano", "type": "select", "options": ["Pequeño", "Mediano", "Grande"]},
                {"label": "Temperatura de Carga (°C)", "name": "temperaturaCarga", "type": "number"},
                {"label": "Temperatura Final (°C)", "name": "temperaturaFinal", "type": "number"},
                {"label": "Tiempo Tueste (min)", "name": "tiempoTueste", "type": "number"},
                {"label": "Humedad Residual del Grano (%)", "name": "humedadGrano", "type": "number"},
                {"label": "Anotaciones", "name": "anotaciones", "type": "textarea"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "nombre_etapa": "Descascarillado & Molienda",
          "descripcion": "Partimos los granos tostadas para liberar su corazón: los nibs. Al molerlos, la fricción los transforma mágicamente en el alma líquida del cacao: un intenso licor que es la base de todo.",
          "orden": 5,
          "campos_json": {
            "salidas": [{"label": "Peso Nibs/Licor de Cacao (kg)", "name": "pesoProductoFinal", "type": "number"}, {"label": "Peso Cascarilla (kg)", "name": "pesoCascarilla", "type": "number"}],
            "variables": [
                {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
                {"label": "Fecha", "name": "fecha", "type": "date", "popup": true},
                {"label": "Tipo de Molino", "name": "tipoMolino", "type": "select", "options": ["Molino de martillos", "Molino de rodillos", "Otro"]},
                {"label": "Tamaño de Partícula (mm)", "name": "tamanoParticula", "type": "number"},
                {"label": "Anotaciones", "name": "anotaciones", "type": "textarea"},
                {"label": "Producto Salida", "name": "productoResultante", "type": "text", "description":"Ej: Nibs, Licor de Cacao"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "nombre_etapa": "Chocolate",
          "descripcion": "El licor se transforma. Añadimos ingredientes selectos y refinamos la mezcla pacientemente (conchado) hasta alcanzar la textura sedosa y aterciopelada que se derrite en tu boca.",
          "orden": 6,
          "campos_json": {
            "salidas": [{"label": "Número de Unidades", "name": "unidades", "type": "number"}],
            "variables": [
              {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
              {"label": "Fecha", "name": "fecha", "type": "date", "popup": true},
              {"label": "Tiempo de Conchado (horas)", "name": "tiempoConchado", "type": "number"},
              {"label": "Temperatura de Templado (°C)", "name": "temperaturaTemplado", "type": "number"},
              {"label": "Porcentaje de Cacao (%)", "name": "porcentajeCacao", "type": "number", "popup": true},
              {"label": "Tipo de Chocolate", "name": "tipoChocolate", "type": "select", "options": ["Oscuro", "Con Leche", "Blanco"], "popup": true},
              {"label": "Endulzante", "name": "endulzante", "type": "text", "popup": true},
              {"label": "Ingredientes Adicionales", "name": "ingredientesAdicionales", "type": "textarea"},
              {"label": "Foto del Producto", "name": "imageUrl", "type": "image", "popup": true}
            ]
          }
        },
        {
          "nombre_etapa": "Envasado",
          "descripcion": "Moldeamos y enfriamos el chocolate, preservando su brillo. Envolvemos cada tableta con cuidado para proteger su aroma y frescura. Este empaque es el guardián de la historia que acabas de leer.",
          "orden": 7,
          "campos_json": {
            "salidas": [{"label": "Número de Unidades Producidas", "name": "unidades", "type": "number"}],
            "variables": [
              {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
              {"label": "Fecha Empaque", "name": "fecha", "type": "date", "popup": true},
              {"label": "Numero de Lote", "name": "numeroLote", "type": "text"},
              {"label": "Fecha Vencimiento", "name": "vencimiento", "type": "date", "popup": true}
            ]
          }
        }
      ]
    },
    {
      "nombre_producto": "Café",
      "descripcion": "Plantilla para el proceso de café",
      "etapas": [
        {
          "id_etapa": 1,
          "nombre_etapa": "Cosecha y Selección",
          "descripcion": "Manos expertas eligen las cerezas maduras, asegurando la mejor calidad desde el inicio del proceso.",
          "orden": 1,
          "campos_json": {
            "entradas": [{"label": "Peso Cereza (kg)", "name": "pesoCereza", "type": "number"}],
            "salidas": [{"label": "Peso Cereza Seleccionada (kg)", "name": "pesoCerezaSeleccionada", "type": "number"}],
            "variables": [
                {"label": "Finca", "name": "finca", "type": "selectFinca", "popup": true},
                {"label": "Fecha Cosecha", "name": "fecha", "type": "date", "popup": true},
                {"label": "Clasificación de Cafe", "name": "clasificacion", "type": "select", "options": ["Arábica", "Robusta", "Liberica", "Otro"], "popup": true},
                {"label": "Variedad", "name": "variedad", "type": "text", "popup": true},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 2,
          "nombre_etapa": "Despulpado",
          "descripcion": "Separar la pulpa del grano es un arte que requiere precisión. Este paso es crucial para preparar los granos para una fermentación óptima.",
          "orden": 2,
          "campos_json": {
            "entradas": [{"label": "Peso Cereza Seleccionada (kg)", "name": "pesoCerezaSeleccionada", "type": "number"}],
            "salidas": [{"label": "Peso en Pergamino Húmedo (kg)", "name": "pesoPergaminoHumedo", "type": "number"}],
            "variables": [
                {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
                {"label": "Fecha Despulpado", "name": "fecha", "type": "date", "popup": true},
                {"label": "Manejo de la Pulpa", "name": "manejoPulpa", "type": "text", "description": "Ej: Compostaje, vertido directo"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 3,
          "nombre_etapa": "Fermentación",
          "descripcion": "La fermentación es donde la magia sucede. Controlar este proceso es esencial para desarrollar los sabores complejos que definen un café de alta calidad.",
          "orden": 3,
          "campos_json": {
            "entradas": [{"label": "Peso en Pergamino Húmedo (kg)", "name": "pesoPergaminoHumedo", "type": "number"}],
            "salidas": [{"label": "Peso Post-Fermentación (kg)", "name": "pesoPostFermentacion", "type": "number"}],
            "variables": [
                {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
                {"label": "Fecha Inicio", "name": "fecha", "type": "date", "popup": true},
                {"label": "Tipo Fermentación", "name": "tipoFermentacion", "type": "select", "options": ["Aeróbica", "Anaeróbica"], "popup": true},
                {"label": "Duración (horas)", "name": "duracion", "type": "number", "popup": true},
                {"label": "Temperatura Ambiente (°C)", "name": "temperaturaAmbiente", "type": "number"},
                {"label": "pH inicial", "name": "phInicial", "type": "number"},
                {"label": "pH final", "name": "phFinal", "type": "number"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 4,
          "nombre_etapa": "Lavado",
          "descripcion": "Eliminar la mucílago residual es vital para asegurar un perfil de sabor limpio y brillante en el café final.",
          "orden": 4,
          "campos_json": {
            "entradas": [{"label": "Peso Post-Fermentación (kg)", "name": "pesoPostFermentacion", "type": "number"}],
            "salidas": [{"label": "Peso Lavado (kg)", "name": "pesoLavado", "type": "number"}],
            "variables": [
              {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
              {"label": "Fecha Lavado", "name": "fecha", "type": "date", "popup": true},
              {"label": "Método de Lavado", "name": "metodoLavado", "type": "text"},
              {"label": "Agua Utilizada (litros)", "name": "aguaUtilizada", "type": "number"},
              {"label": "Tratamiento de Aguas Mieles", "name": "tratamientoAguas", "type": "text", "description": "Ej: Fosas de oxidación, vertido a río, reutilización"},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 5,
          "nombre_etapa": "Secado",
          "descripcion": "El secado adecuado preserva la calidad del grano. Controlar este proceso es clave para evitar defectos y asegurar un café de sabor excepcional.",
          "orden": 5,
          "campos_json": {
            "entradas": [{"label": "Peso Lavado (kg)", "name": "pesoLavado", "type": "number"}],
            "salidas": [{"label": "Peso Pergamino Seco (kg)", "name": "pesoPergaminoSeco", "type": "number"}],
            "variables": [
              {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
              {"label": "Fecha Inicio", "name": "fecha", "type": "date", "popup": true},
              {"label": "Tipo de Secado", "name": "tipoSecado", "type": "select", "options": ["Patios de cemento", "Camas, Paseras o Esterillas", "Marquesinas o Túneles de Secado", "Hornos y Secadores Mecánicos"]},
              {"label": "Duración (días)", "name": "duracion", "type": "number", "popup": true},
              {"label": "Humedad Final (%)", "name": "humedadFinal", "type": "number"},
              {"label": "Temperatura de Secado (°C)", "name": "temperaturaSecado", "type": "number"},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "id_etapa": 6,
          "nombre_etapa": "Trilla y Selección",
          "descripcion": "Quitar el pergamino y seleccionar los granos es esencial para garantizar la calidad del café verde antes del tostado.",
          "orden": 6,
          "campos_json": {
            "entradas": [{"label": "Peso Pergamino Seco (kg)", "name": "pesoPergaminoSeco", "type": "number"}],
            "salidas": [{"label": "Peso Café Verde (kg)", "name": "pesoCafeVerde", "type": "number"}],
            "variables": [
              {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
              {"label": "Fecha Trilla", "name": "fechaTrilla", "type": "date", "popup": true},
              {"label": "Tipo de Trilladora", "name": "tipoTrilladora", "type": "text"},
              {"label": "Método de Selección", "name": "metodoSeleccion", "type": "text"},
              {"label": "Densidad del grano (g/L)", "name": "densidadGrano", "type": "number"},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "nombre_etapa": "Tostado",
          "descripcion": "El tostado es donde el café revela su carácter. Un control preciso del calor y el tiempo es crucial para desarrollar los perfiles de sabor deseados.",
          "orden": 7,
          "campos_json": {
            "entradas": [{"label": "Peso Café Verde (kg)", "name": "pesoCafeVerde", "type": "number"}],
            "salidas": [{"label": "Peso Café Tostado (kg)", "name": "pesoCafeTostado", "type": "number"}],
            "variables": [
                {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
                {"label": "Fecha Tostado", "name": "fecha", "type": "date", "popup": true},
                {"label": "Tostador", "name": "tostador", "type": "text", "popup": true},
                {"label": "Tiempo de Tueste (min)", "name": "tiempoTueste", "type": "number"},
                {"label": "Temperatura de Carga (°C)", "name": "temperaturaCarga", "type": "number"},
                {"label": "Temperatura Final (°C)", "name": "temperaturaFinal", "type": "number"},
                {"label": "Notas de Cata", "name": "notasCata", "type": "textarea"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}]
          }
        },
        {
          "nombre_etapa": "Envasado",
          "descripcion": "Moldeamos y sellamos el café tostado para preservar su frescura y aroma. Un empaque adecuado es esencial para mantener la calidad hasta que llegue a tu taza.",
          "orden": 8,
          "campos_json": {
            "salidas": [{"label": "Número de Unidades", "name": "unidades", "type": "number"}],
            "variables": [
              {"label": "Procesadora", "name": "procesadora", "type": "selectProcesadora", "popup": true},
              {"label": "Fecha Empaque", "name": "fecha", "type": "date", "popup": true},
              {"label": "Numero de Lote", "name": "numeroLote", "type": "text"},
              {"label": "Fecha Vencimiento", "name": "vencimiento", "type": "date", "popup": true}
            ]
          }
        },
        {
          "nombre_etapa": "Evaluación en Taza / Calidad",
          "descripcion": "La evaluación sensorial es el arte de descubrir las historias ocultas en cada taza. Aquí, los catadores expertos desvelan los matices y la calidad del café tostado.",
          "orden": 9,
          "campos_json": {
            "entradas": [{"label": "Peso Muestra Tostada (g)", "name": "pesoMuestraTostada", "type": "number"}],
            "salidas": [],
            "variables": [
                {"label": "Fecha de Catación", "name": "fecha", "type": "date", "popup": true},
                {"label": "Catador (Q Grader)", "name": "nombreCatador", "type": "text", "popup": true},
                {"label": "Puntuación Final (SCA)", "name": "puntuacionSCA", "type": "number", "step": "0.25", "popup": true},
                {"label": "Perfil de Sabor", "name": "perfilSabor", "type": "textarea", "placeholder": "Ej: Notas a panela, cítricos como mandarina, cuerpo medio, acidez brillante..."},
                {"label": "Nivel de Tueste (Agtron)", "name": "nivelTueste", "type": "number"},
                {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}
                ]
          }
        }
      ]
    },
    {
      "nombre_producto": "Miel de Abeja",
      "descripcion": "Plantilla estándar para el proceso de trazabilidad de la miel de abeja, desde la cosecha hasta el envasado.",
      "etapas": [
        {
          "nombre_etapa": "Cosecha en Apiario",
          "descripcion": "Recolección de panales maduros de las colmenas en el apiario, asegurando la calidad y el estado óptimo de los mismos para la extracción de miel.",
          "orden": 1,
          "campos_json": {
            "entradas": [{"label": "Número de Alzas a Cosechar", "name": "numAlzas", "type": "number"}],
            "salidas": [{"label": "Peso de Panales con Miel (kg)", "name": "pesoPanales", "type": "number"}],
            "variables": [
              {"label": "Finca", "name": "finca", "type": "selectFinca", "popup": true}, 
              {"label": "Fecha Cosecha", "name": "fecha", "type": "date", "popup": true},
              {"label": "Porcentaje operculación (%)", "name": "porcentajeOperculacion", "type": "number"},
              {"label": "Tipo de Flora Predominante", "name": "variedad", "type": "text", "description": "Ej: Eucalipto, Azahar, Multifloral."},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}
            ]
          }
        },
        {
          "nombre_etapa": "Desoperculado y Extracción",
          "descripcion": "Remoción de la cera que cubre los panales (desoperculado) y extracción de la miel utilizando centrifugadoras, separando la miel de otros componentes como cera y residuos.",
          "orden": 2,
          "campos_json": {
            "entradas": [{"label": "Peso de Panales con Miel (kg)", "name": "pesoPanalesEntrada", "type": "number"}],
            "salidas": [{"label": "Peso de Miel cruda (kg)", "name": "pesoMielCruda", "type": "number"}],
            "variables":[
              {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
              {"label": "Fecha", "name": "fecha", "type": "date", "popup": true},
              {"label": "Tipo de Extracción", "name": "tipoExtraccion", "type": "select", "options": ["Manual", "Electrico"]},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}
            ]
          }
        },
        {
          "nombre_etapa": "Filtrado y Decantación",
          "descripcion": "Proceso de purificación de la miel cruda mediante filtrado para eliminar impurezas y posterior decantación para separar burbujas de aire y partículas sólidas, mejorando la calidad y apariencia de la miel.",
          "orden": 3,
          "campos_json": {
            "entradas": [{"label": "Peso de Miel cruda (kg)", "name": "pesoMielCruda", "type": "number"}],
            "salidas": [{"label": "Peso de Miel madura (kg)", "name": "pesoMielMadura", "type": "number"}],
            "variables":[
              {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
              {"label": "Fecha", "name": "fecha", "type": "date", "popup": true},
              {"label": "Tipo de Filtrado", "name": "tipoFiltrado", "type": "text", "description": "Ej: Malla de acero inoxidable, decantación natural."},
              {"label": "Temperatura de la Sala (°C)", "name": "temperaturaSala", "type": "number"},
              {"label": "Tiempo de madurez (días)", "name": "tiempoMadurez", "type": "number"},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}
            ]
          }
        },
        {
          "nombre_etapa": "Envasado",
          "descripcion": "Llenado de envases con la miel, asegurando condiciones higiénicas y control de calidad para preservar las propiedades organolépticas y nutricionales de la miel durante su almacenamiento y distribución.",
          "orden": 4,
          "campos_json": {
            "entradas": [{"label": "Número de Unidades", "name": "pesoEntrada", "type": "number"}],
            "salidas": [{"label": "Número de Unidades", "name": "unidades", "type": "number"}],
            "variables": [
              {"label": "Lugar del Proceso", "name": "lugarProceso", "type": "selectLugar", "popup": true},
              {"label": "Fecha Empaque", "name": "fecha", "type": "date", "popup": true},
              {"label": "Numero de Lote", "name": "numeroLote", "type": "text"},
              {"label": "Fecha Vencimiento", "name": "vencimiento", "type": "date", "popup": true},
              {"label": "Foto", "name": "imageUrl", "type": "image", "popup": true}
            ]
          }
        }
      ]
    }
  ]
}